{
    "openapi": "3.0.1",
    "info": {
        "title": "Yummy API",
        "version": "v1"
    },
    "consumes": [
        "application/json",
        "multipart/form-data"
    ],
    "produces": [
        "application/json"
    ],
    "servers": [
        {
            "url": "http://localhost:3000"
        }
    ],
    "tags": [
        {
            "name": "Auth",
            "description": "Authorization endpoints"
        },
        {
            "name": "Recipes",
            "description": "Recipes endpoints"
        },
        {
            "name": "Ingredients",
            "description": "Ingredients endpoints"
        }
    ],
    "paths": {
        "/user/register": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Registration user",
                "parameters": [],
                "requestBody": {
                    "description": "registration body",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/RegistrationRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Succesfully registration",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RegistrationResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "error validation req body",
                        "content": {}
                    },
                    "409": {
                        "description": "Email in use",
                        "content": {}
                    }
                }
            }
        },
        "/user/login": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Login user",
                "parameters": [],
                "requestBody": {
                    "description": "registration body",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/LoginRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Succesfully registration",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/LoginResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "error validation req body",
                        "content": {}
                    },
                    "409": {
                        "description": "Email in use",
                        "content": {}
                    }
                }
            }
        },
        "/user/logout": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Logout user",
                "parameters": [],
                "requestBody": {
                    "description": "logout body",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/LogoutRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "204": {
                        "description": "User is logout",
                        "content": {}
                    },
                    "401": {
                        "description": "Not authorized",
                        "content": {}
                    }
                }
            }
        },
        "/user/current": {
            "get": {
                "tags": [
                    "Auth"
                ],
                "summary": "Get current user",
                "parameters": [],
                "requestBody": {
                    "description": "current user body",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CurrentUserRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Current user",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/CurrentUserResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Not authorized",
                        "content": {}
                    }
                }
            }
        },
        "/user/verify": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Reverify user",
                "parameters": [],
                "requestBody": {
                    "description": "reverify body",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/VerifyRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Verify user success",
                        "content": {}
                    },
                    "404": {
                        "description": "Not found",
                        "content": {}
                    },
                    "400": {
                        "description": "Verification has already been passed",
                        "content": {}
                    }
                }
            }
        },
        "/user/verify/{verificationToken}": {
            "get": {
                "tags": [
                    "Auth"
                ],
                "summary": "Verify user",
                "parameters": [
                    {
                        "name": "verificationToken",
                        "in": "path",
                        "required": true,
                        "description": "simple parameter",
                        "schema": {
                            "type": "string",
                            "example": "9baa4d40-5257-49fa-9303-6e27f2f89dd2"
                        }
                    }
                ],
                "requestBody": {
                    "description": "verify body",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/VerifyRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Verification successful",
                        "content": {}
                    },
                    "404": {
                        "description": "Not found",
                        "content": {}
                    }
                }
            }
        },
        "/user/update": {
            "patch": {
                "tags": [
                    "Auth"
                ],
                "summary": "Update user",
                "parameters": [],
                "requestBody": {
                    "description": "update body",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdateUserRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "202": {
                        "description": "Succesfully update user",
                        "content": {}
                    },
                    "400": {
                        "description": "error validation req body",
                        "content": {}
                    }
                }
            }
        },
        "/user/subscribe": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Update subscription user",
                "parameters": [],
                "requestBody": {
                    "description": "update subscription body",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdateSubscriptionRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Subscription letter send",
                        "content": {}
                    },
                    "400": {
                        "description": "Not found user",
                        "content": {}
                    },
                    "404": {
                        "description": "Not not user's email",
                        "content": {}
                    }
                }
            }
        },
        "/recipes/category-list": {
            "get": {
                "tags": [
                    "Recipes"
                ],
                "summary": "Get categories of recipes",
                "parameters": [],
                "responses": {
                    "200": {
                        "description": "success",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/GetCategoriesOfRecipes"

                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Categories ${category} not found",
                        "content": {}
                    }
                }
            }
        },
        "/recipes/main-page": {
            "get": {
                "tags": [
                    "Recipes"
                ],
                "summary": "Get all recipes on main page",
                "parameters": [],
                "responses": {
                    "200": {
                        "description": "success",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/GetAllRecipes"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Category not found",
                        "content": {}
                    }
                }
            }
        },
        "/recipes/category/{category}": {
            "get": {
                "tags": [
                    "Recipes"
                ],
                "summary": "Get recipes by category",
                "parameters": [{
                    "in":"path",
                    "name":"category",
                    "required":true,
                    "description":"Recipes by category",
                    "schema": {
                        "type": "string",
                        "example": "Beef"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "success",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/GetRecipesByCategory"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Categories ${category} not found",
                        "content": {}
                    }
                }
            }
        },
        "/recipes/{id}": {
            "get": {
                "tags": [
                    "Recipes"
                ],
                "summary": "Get recipes by id",
                "parameters": [{
                    "in":"path",
                    "name":"id",
                    "required":true,
                    "description":"Numeric id of the recipes",
                    "schema": {
                        "type": "string",
                        "example": "640cd5ac2d9fecf12e8897f8"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "success",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/GetRecipesById"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Recipes with id 640cd5ac2d9fecf12e8897f8 not found",
                        "content": {}
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "RegistrationRequest": {
                "type": "object",
                "required": [
                    "name",
                    "email",
                    "password"
                ],
                "properties": {
                    "name": {
                        "type": "string",
                        "description": "User's name",
                        "example": "Devid Jonson"
                    },
                    "email": {
                        "type": "string",
                        "description": "User's email",
                        "example": "test@gmail.com"
                    },
                    "password": {
                        "type": "string",
                        "description": "User's password",
                        "example": "HhJOg325656=*35"
                    }
                }
            },
            "RegistrationResponse": {
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string",
                        "description": "User's name",
                        "example": "Devid Jonson"
                    },
                    "email": {
                        "type": "string",
                        "description": "User's email",
                        "example": "test@gmail.com"
                    },
                    "id": {
                        "type": "string",
                        "description": "User's id",
                        "example": "643d3fa2adbcdfdd8d8496fa"
                    },
                    "avatarURL": {
                        "type": "string",
                        "description": "User's url avatar",
                        "example": "https://s.gravatar.com/avatar/561db9e65d56a1ae3cc98fefc629d"
                    }
                }
            },
            "LoginRequest": {
                "type": "object",
                "required": [
                    "email",
                    "password"
                ],
                "properties": {
                    "email": {
                        "type": "string",
                        "description": "User's email",
                        "example": "test@gmail.com"
                    },
                    "password": {
                        "type": "string",
                        "description": "User's password",
                        "example": "HhJOg325656=*35"
                    }
                }
            },
            "LoginResponse": {
                "type": "object",
                "properties": {
                    "user": {
                        "type": "object",
                        "properties": {
                            "email": {
                                "type": "string",
                                "description": "User's email",
                                "example": "test@gmail.com"
                            },
                            "subscription": {
                                "type": "boolean",
                                "description": "User's subscription",
                                "example": "true"
                            }
                        }
                    },
                    "token": {
                        "type": "string",
                        "description": "User's token",
                        "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY0M"
                    }
                }
            },
            "LogoutRequest": {
                "type": "object",
                "required": [
                    "id"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "description": "User's id",
                        "example": "643d3fa2adbcdfdd8d8496fa"
                    }
                }
            },
            "CurrentUserRequest": {
                "type": "object",
                "required": [
                    "id"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "description": "User's id",
                        "example": "643d3fa2adbcdfdd8d8496fa"
                    }
                }
            },
            "CurrentUserResponse": {
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string",
                        "description": "User's name",
                        "example": "Devid Jonson"
                    },
                    "email": {
                        "type": "string",
                        "description": "User's email",
                        "example": "test@gmail.com"
                    },
                    "avatarURL": {
                        "type": "string",
                        "description": "User's url avatar",
                        "example": "https://s.gravatar.com/avatar/561db9e65d56a1ae3cc98fefc629d"
                    },
                    "registeredAt": {
                        "type": "date",
                        "description": "User's registeredAt",
                        "example": "2023-04-17T12:46:26.114+00:00"
                    }
                }
            },
            "VerifyRequest": {
                "type": "object",
                "required": [
                    "email"
                ],
                "properties": {
                    "email": {
                        "type": "string",
                        "description": "User's email",
                        "example": "test@gmail.com"
                    }
                }
            },
            "UpdateUserRequest": {
                "type": "object",
                "required": [
                    "id"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "description": "User's id",
                        "example": "643d3fa2adbcdfdd8d8496fa"
                    }
                }
            },
            "UpdateSubscriptionRequest": {
                "type": "object",
                "required": [
                    "id"
                ],
                "properties": {
                    "type": "object",
                    "required": [
                        "email"
                    ],
                    "properties": {
                        "email": {
                            "type": "string",
                            "description": "User's email",
                            "example": "test@gmail.com"
                        }
                    }
                }
            },
            "GetCategoriesOfRecipes": {
                "type": "array",
                "items": {
                    "type": "object",
                    "properties": {
                        "categories": {
                            "type": "string",
                            "description": "Categories of recipes",
                            "example": [
                                "Beef",
                                "Breakfast",
                                "Chicken",
                                "Dessert",
                                "Goat",
                                "Lamb",
                                "Miscellaneous",
                                "Pasta",
                                "Pork",
                                "Seafood",
                                "Side",
                                "Starter",
                                "Vegan",
                                "Vegetarian"
                            ]
                        }
                    }
                }
            },
            "GetAllRecipes": {
                "type": "array",
                "items": {
                    "type": "object",
                    "properties": {
                        "id": {
                            "type": "string",
                            "description": "Recipes id",
                            "example": "643d3fa2adbcdfdd8d8496fa"

                        },
                        "ttl": {
                            "type": "string",
                            "description": "Title recipe",
                            "example": "Irish stew"
                        },
                        "category": {
                            "type": "string",
                            "description": "Category name",
                            "example": "Beef"

                        },
                        "desc": {
                            "type": "string",
                            "description": "Area recipe",
                            "example": "Irish"
                        },
                        "instructions": {
                            "type": "string",
                            "description": "instructions recipe",
                            "example": "Heat the oven to 180C/350F/gas mark 4..."
                        },
                        "description": {
                            "type": "string",
                            "description": "description recipe",
                            "example": "A traditional Irish dish made with lamb, potatoes, carrots, onions, and herbs, cooked in a broth or gravy."
                        },
                        "thumb": {
                            "type": "string",
                            "description": "url img recipe",
                            "example": "https://www.themealdb.com/images/media/meals/wvqpwt1468339226.jpg"
                        },
                        "preview": {
                            "type": "string",
                            "description": "url img recipe",
                            "example": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678560408/kknfjaqupiqhufj5kspx.jpg"
                        },
                        "time": {
                            "type": "string",
                            "description": "小ooking time",
                            "example": "160"
                        },
                        "youtube": {
                            "type": "string",
                            "description": "小ooking video",
                            "example": "https://www.youtube.com/watch?v=kYH2qJXnSMo"
                        },
                        "tags": {
                            "type": "array",
                            "description": "tags of recipes",
                            "example": [
                                "Stew",
                                "Meat"
                            ]
                        },
                        "createdAt": {
                            "type": "string",
                            "description": "When a recipe is added",
                            "example": "2023-03-11T19:25:33.240Z"
                        },
                        "updatedAt": {
                            "type": "string",
                            "description": "When a recipe was updated",
                            "example": "2023-04-18T23:21:07.061Z"
                        },
                        "ingredients": {
                            "type": "array",
                            "description": "ingredients of recipe",
                            "example": [
                                {
                                    "id": "640c2dd963a319ea671e3796",
                                    "measure": "300g soaked overnight in water"
                                },
                                {
                                    "id": "640c2dd963a319ea671e370c",
                                    "measure": "2kg cut into 3cm cubes"
                                }
                            ]
                        }
                    }
                }
            },
            "GetRecipesByCategory": {
                "type": "array",
                "items": {
                    "type": "object",
                    "properties": {
                        "categories": {
                            "type": "string",
                            "description": "Categories of recipes",
                            "example": [
                                "Beef",
                                "Breakfast",
                                "Chicken",
                                "Dessert",
                                "Goat",
                                "Lamb",
                                "Miscellaneous",
                                "Pasta",
                                "Pork",
                                "Seafood",
                                "Side",
                                "Starter",
                                "Vegan",
                                "Vegetarian"
                            ]
                        }
                    }
                }
            },
            "GetRecipesById": {
                "type": "array",
                "items": {
                    "type": "object",
                    "properties": {
                        "id": {
                            "type": "string",
                            "description": "Recipes id",
                            "example": "643d3fa2adbcdfdd8d8496fa"
                        },
                        "title": {
                            "type": "string",
                            "description": "Title recipe",
                            "example": "Irish stew"
                        },
                        "category": {
                            "type": "string",
                            "description": "Category name",
                            "example": "Beef"
                        },
                        "area": {
                            "type": "string",
                            "description": "Area recipe",
                            "example": "Irish"
                        },
                        "instructions": {
                            "type": "string",
                            "description": "instructions recipe",
                            "example": "Heat the oven to 180C/350F/gas mark 4..."
                        },
                        "description": {
                            "type": "string",
                            "description": "description recipe",
                            "example": "A traditional Irish dish made with lamb, potatoes, carrots, onions, and herbs, cooked in a broth or gravy."
                        },
                        "thumb": {
                            "type": "string",
                            "description": "url img recipe",
                            "example": "https://www.themealdb.com/images/media/meals/wvqpwt1468339226.jpg"
                        },
                        "preview": {
                            "type": "string",
                            "description": "url img recipe",
                            "example": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678560408/kknfjaqupiqhufj5kspx.jpg"
                        },
                        "time": {
                            "type": "string",
                            "description": "小ooking time",
                            "example": "160"
                        },
                        "youtube": {
                            "type": "string",
                            "description": "小ooking video",
                            "example": "https://www.youtube.com/watch?v=kYH2qJXnSMo"
                        },
                        "tags": {
                            "type": "array",
                            "description": "tags of recipes",
                            "example": [
                                "Stew",
                                "Meat"
                            ]
                        },
                        "createdAt": {
                            "type": "string",
                            "description": "When a recipe is added",
                            "example": "2023-03-11T19:25:33.240Z"
                        },
                        "updatedAt": {
                            "type": "string",
                            "description": "When a recipe was updated",
                            "example": "2023-04-18T23:21:07.061Z"
                        },
                        "ingredients": {
                            "type": "array",
                            "description": "ingredients of recipe",
                            "example": [
                                {
                                    "id": "640c2dd963a319ea671e3796",
                                    "measure": "300g soaked overnight in water"
                                },
                                {
                                    "id": "640c2dd963a319ea671e370c",
                                    "measure": "2kg cut into 3cm cubes"
                                }
                            ]

                        }
                    }
                }
            }

        }
    }
}

